(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[867],{341:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/manage",function(){return n(8111)}])},8111:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return h}});var u=n(8160),o=n(5421),r=n(7319);function a(t){return function(t){if(Array.isArray(t))return(0,u.Z)(t)}(t)||(0,o.Z)(t)||(0,r.Z)(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var c=n(1527),i=n(959),s=n(989),f=n.n(s),l=function(){var t=(0,i.useState)([]),e=t[0],n=t[1],u=(0,i.useState)(!0),o=u[0],r=u[1];(0,i.useEffect)(function(){fetch("/getStus",{method:"GET"}).then(function(t){return t.json()}).then(function(t){n(t),r(!1)})},[]);var s=function(t){var u=t.item,o=(0,i.useState)(u.stuName),r=o[0],a=o[1],s=(0,i.useState)(u.stuPwd),l=s[0],d=s[1],p=u.stuId,h=function(t){t.preventDefault(),a(t.target.value)},v=function(t){t.preventDefault(),d(t.target.value)},x=function(t){t.preventDefault(),fetch("/updateStu",{method:"POST",headers:{"Content-Type":"application/www-form-urlencoded"},body:"stuName=".concat(r,"&stuPwd=").concat(l,"&stuId=").concat(p)})},m=function(t){t.preventDefault(),fetch("/deleteStu",{method:"POST",headers:{"Content-Type":"application/www-form-urlencoded"},body:"id=".concat(p)}),n(e.filter(function(t){return t.stuId!==p}))};return(0,c.jsxs)("div",{className:f().flexRow,children:[(0,c.jsx)("input",{type:"text",value:r,onChange:h}),(0,c.jsx)("input",{type:"text",value:l,onChange:v}),(0,c.jsx)("button",{onClick:x,children:"修改"}),(0,c.jsx)("button",{onClick:m,children:"删除"})]})},l=e.map(function(t,e){return(0,c.jsx)(s,{item:t},e)}),d=function(){var t=(0,i.useState)(""),u=t[0],o=t[1],r=(0,i.useState)(""),s=r[0],l=r[1],d=function(t){o(t.target.value)},p=function(t){l(t.target.value)},h=function(t){t.preventDefault(),fetch("/addStu",{method:"POST",headers:{"Content-Type":"application/www-form-urlencoded"},body:"stuName=".concat(u,"&stuPwd=").concat(s)}).then(function(t){return t.json()}).then(function(t){n(a(e).concat([t]))})};return(0,c.jsxs)("div",{className:f().flexRow,children:[(0,c.jsx)("input",{type:"text",value:u,onChange:d}),(0,c.jsx)("input",{type:"text",value:s,onChange:p}),(0,c.jsx)("button",{onClick:h,children:"新增"})]})};return o?(0,c.jsx)("div",{children:"loading..."}):(0,c.jsxs)("div",{children:[l,(0,c.jsx)(d,{})]})},d=function(){var t=(0,i.useState)([]),e=t[0],n=t[1],u=(0,i.useState)(!0),o=u[0],r=u[1];(0,i.useEffect)(function(){fetch("/allCourse",{method:"GET"}).then(function(t){return t.json()}).then(function(t){n(t),r(!1)})},[]);var s=function(t){var u=t.item,o=(0,i.useState)(u.courseName),r=o[0],a=o[1],s=(0,i.useState)(u.courseTime),l=s[0],d=s[1],p=(0,i.useState)(u.teaName),h=p[0],v=p[1],x=(0,i.useState)(u.address),m=x[0],j=x[1],y=u.courseId,C=function(t){t.preventDefault(),a(t.target.value)},w=function(t){t.preventDefault(),d(t.target.value)},g=function(t){t.preventDefault(),j(t.target.value)},S=function(t){t.preventDefault(),v(t.target.value)},b=function(t){t.preventDefault(),fetch("/updateCourse",{method:"POST",headers:{"Content-Type":"application/www-form-urlencoded"},body:"courseName=".concat(r,"&courseTime=").concat(l,"&courseId=").concat(y,"&teaName=").concat(h,"&address=").concat(m)})},T=function(t){t.preventDefault(),fetch("/deleteCourseById",{method:"POST",headers:{"Content-Type":"application/www-form-urlencoded"},body:"id=".concat(y)}),n(e.filter(function(t){return t.courseId!==y}))};return(0,c.jsxs)("div",{className:f().flexRow,children:[(0,c.jsx)("input",{type:"text",value:r,onChange:C}),(0,c.jsx)("input",{type:"text",value:l,onChange:w}),(0,c.jsx)("input",{type:"text",value:m,onChange:g}),(0,c.jsx)("input",{type:"text",value:h,onChange:S}),(0,c.jsx)("button",{onClick:b,children:"修改"}),(0,c.jsx)("button",{onClick:T,children:"删除"})]})},l=e.map(function(t,e){return(0,c.jsx)(s,{item:t},e)}),d=function(){var t=(0,i.useState)(""),u=t[0],o=t[1],r=(0,i.useState)(""),s=r[0],l=r[1],d=(0,i.useState)(""),p=d[0],h=d[1],v=(0,i.useState)(""),x=v[0],m=v[1],j=function(t){o(t.target.value)},y=function(t){l(t.target.value)},C=function(t){m(t.target.value)},w=function(t){h(t.target.value)},g=function(t){t.preventDefault(),fetch("/addCourse",{method:"POST",headers:{"Content-Type":"application/www-form-urlencoded"},body:"courseName=".concat(u,"&courseTime=").concat(s,"&teaName=").concat(p,"&address=").concat(x)}).then(function(t){return t.json()}).then(function(t){n(a(e).concat([t]))})};return(0,c.jsxs)("div",{className:f().flexRow,children:[(0,c.jsx)("input",{type:"text",value:u,onChange:j}),(0,c.jsx)("input",{type:"text",value:s,onChange:y}),(0,c.jsx)("input",{type:"text",value:x,onChange:C}),(0,c.jsx)("input",{type:"text",value:p,onChange:w}),(0,c.jsx)("button",{onClick:g,children:"新增"})]})};return o?(0,c.jsx)("div",{children:"loading..."}):(0,c.jsxs)("div",{children:[l,(0,c.jsx)(d,{})]})},p=function(){var t=(0,i.useState)([]),e=t[0],n=t[1],u=(0,i.useState)(!0),o=u[0],r=u[1];(0,i.useEffect)(function(){fetch("/getStuCourse",{method:"GET"}).then(function(t){return t.json()}).then(function(t){n(t),r(!1)})},[]);var s=function(t){var u=t.item,o=(0,i.useState)(u.stuId),r=o[0],a=o[1],s=(0,i.useState)(u.courseId),l=s[0],d=s[1],p=function(t){t.preventDefault(),a(t.target.value)},h=function(t){t.preventDefault(),d(t.target.value)},v=function(t){t.preventDefault(),fetch("/updateStuCourse",{method:"POST",headers:{"Content-Type":"application/www-form-urlencoded"},body:"stuId=".concat(r,"&courseId=").concat(l,"&m_stuId=").concat(u.stuId,"&m_courseId=").concat(u.courseId)})},x=function(t){t.preventDefault(),fetch("/deleteStuCourse",{method:"POST",headers:{"Content-Type":"application/www-form-urlencoded"},body:"stuId=".concat(r,"&courseId=").concat(l)}),n(e.filter(function(t){return t.stuId!==r&&t.courseId!==l}))};return(0,c.jsxs)("div",{className:f().flexRow,children:[(0,c.jsx)("input",{type:"text",value:r,onChange:p}),(0,c.jsx)("input",{type:"text",value:l,onChange:h}),(0,c.jsx)("button",{onClick:v,children:"修改"}),(0,c.jsx)("button",{onClick:x,children:"删除"})]})},l=e.map(function(t,e){return(0,c.jsx)(s,{item:t},e)}),d=function(){var t=(0,i.useState)(""),u=t[0],o=t[1],r=(0,i.useState)(""),s=r[0],l=r[1],d=function(t){o(t.target.value)},p=function(t){l(t.target.value)},h=function(t){t.preventDefault(),fetch("/selectCourse",{method:"POST",headers:{"Content-Type":"application/www-form-urlencoded"},body:"stuId=".concat(u,"&courseId=").concat(s)}).then(function(t){return t.json()}).then(function(t){n(a(e).concat([t]))})};return(0,c.jsxs)("div",{className:f().flexRow,children:[(0,c.jsx)("input",{type:"text",value:u,onChange:d}),(0,c.jsx)("input",{type:"text",value:s,onChange:p}),(0,c.jsx)("button",{onClick:h,children:"新增"})]})};return o?(0,c.jsx)("div",{children:"loading..."}):(0,c.jsxs)("div",{children:[l,(0,c.jsx)(d,{})]})};function h(){return(0,c.jsxs)("div",{children:[(0,c.jsx)(l,{}),(0,c.jsx)(d,{}),(0,c.jsx)(p,{})]})}},989:function(t){t.exports={flexRow:"manage_flexRow__NcCG_"}},8160:function(t,e,n){"use strict";function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,u=Array(e);n<e;n++)u[n]=t[n];return u}n.d(e,{Z:function(){return u}})},5421:function(t,e,n){"use strict";function u(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}n.d(e,{Z:function(){return u}})},7319:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var u=n(8160);function o(t,e){if(t){if("string"==typeof t)return(0,u.Z)(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return(0,u.Z)(t,e)}}}},function(t){t.O(0,[774,888,179],function(){return t(t.s=341)}),_N_E=t.O()}]);